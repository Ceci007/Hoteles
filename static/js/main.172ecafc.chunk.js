(this.webpackJsonphoteles=this.webpackJsonphoteles||[]).push([[0],{11:function(e,a,t){e.exports=t(18)},17:function(e,a,t){},18:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),l=t(9),s=t.n(l),i=t(7),c=t.n(i),o=t(10),m=t(2),d=t(3),h=t(5),u=t(4),p=t(1),v=t(6);var f=function(e){return r.a.createElement("section",{className:"hero is-primary"},r.a.createElement("div",{className:"hero-body"},r.a.createElement("div",{className:"container"},r.a.createElement("h1",{className:"title"},"Hoteles"),r.a.createElement("h2",{className:"subtitle"},"Tenemos disponibles ",e.totalHotels," hoteles en total.",r.a.createElement("br",null),"desde el"," ",r.a.createElement("strong",null,e.filters.dateFrom.toLocaleDateString("es-ES",{weekday:"long",year:"numeric",month:"long",day:"numeric"}))," ","hasta el"," ",r.a.createElement("strong",null,e.filters.dateTo.toLocaleDateString("es-ES",{weekday:"long",year:"numeric",month:"long",day:"numeric"})),e.filters.country?" en ".concat(e.filters.country):"",e.filters.price?" por ".concat("$".repeat(e.filters.price)):"",e.filters.rooms?" de hasta ".concat(e.filters.rooms," habitaciones"):""))))};var g=function(e){return r.a.createElement("div",{className:"control"},r.a.createElement("div",{className:"tags has-addons"},r.a.createElement("span",{className:"tag is-medium is-info"},r.a.createElement("i",{className:"fas fa-".concat(e.icon)})),r.a.createElement("span",{className:"tag is-medium"},e.children)))};var E=function(e){for(var a=[],t=0;t<4;t++){var n={margin:"0 .125em"};t>=e.count&&(n.opacity="0.25"),a.push(r.a.createElement("i",{className:"fas fa-dollar-sign",style:n,key:t}))}return r.a.createElement("div",{className:"control"},r.a.createElement("div",{className:"tags"},r.a.createElement("span",{className:"tag is-medium is-info"},a)))};var b=function(e){return r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-image"},r.a.createElement("figure",{className:"image is-4by3"},r.a.createElement("img",{src:e.children.photo,alt:e.children.name}))),r.a.createElement("div",{className:"card-content"},r.a.createElement("div",{className:"card-content__top"},r.a.createElement("p",{className:"title is-4"},e.children.name),r.a.createElement("p",null,e.children.description)),r.a.createElement("div",{className:"card-content__bottom"},r.a.createElement("div",{className:"field is-grouped is-grouped-multiline"},r.a.createElement(g,{icon:"map-marker"},"".concat(e.children.city,", ").concat(e.children.country)),r.a.createElement(g,{icon:"bed"},"".concat(e.children.rooms," Habitaciones")),r.a.createElement(E,{count:e.children.price})))),r.a.createElement("div",{className:"card-footer"},r.a.createElement("button",{className:"card-footer-item has-background-primary has-text-white has-text-weight-bold"},"Reservar")))};var y=function(e){return r.a.createElement("section",{className:"section",style:{marginTop:"3em"}},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"columns is-multiline"},e.children.length?e.children.map((function(e){return r.a.createElement("div",{className:"column is-one-third",key:e.slug},r.a.createElement(b,null,e))})):r.a.createElement("article",{className:"message is-warning"},r.a.createElement("div",{className:"message-body"},"No se han encontrado hoteles que coincidan con los par\xe1metros de b\xfasqueda.")))))},N=function(e){function a(e){var t;return Object(m.a)(this,a),(t=Object(h.a)(this,Object(u.a)(a).call(this,e))).handleOptionChange=t.handleOptionChange.bind(Object(p.a)(t)),t}return Object(v.a)(a,e),Object(d.a)(a,[{key:"handleOptionChange",value:function(e){this.props.onOptionChange(e)}},{key:"render",value:function(){return r.a.createElement("div",{className:"field"},r.a.createElement("div",{className:"control has-icons-left"},r.a.createElement("div",{className:"select",style:{width:"100%"}},r.a.createElement("select",{onChange:this.handleOptionChange,value:this.props.selected,style:{width:"100%"},name:this.props.name},this.props.options.map((function(e,a){return r.a.createElement("option",{value:e.value||"",key:a},e.name)})))),r.a.createElement("div",{className:"icon is-small is-left"},r.a.createElement("i",{className:"fas fa-".concat(this.props.icon)}))))}}]),a}(n.Component),O=function(e){function a(e){var t;return Object(m.a)(this,a),(t=Object(h.a)(this,Object(u.a)(a).call(this,e))).handleDateChange=t.handleDateChange.bind(Object(p.a)(t)),t}return Object(v.a)(a,e),Object(d.a)(a,[{key:"handleDateChange",value:function(e){this.props.onDateChange(e)}},{key:"render",value:function(){var e="".concat(this.props.date.getFullYear(),"-").concat(String(this.props.date.getMonth()+1).padStart(2,0),"-").concat(String(this.props.date.getDate()).padStart(2,0));return r.a.createElement("div",{className:"field"},r.a.createElement("div",{className:"control has-icons-left"},r.a.createElement("input",{className:"input",type:"date",onChange:this.handleDateChange,value:e,name:this.props.name}),r.a.createElement("span",{className:"icon is-small is-left"},r.a.createElement("i",{className:"fas fa-".concat(this.props.icon)}))))}}]),a}(n.Component),C=function(e){function a(e){var t;return Object(m.a)(this,a),(t=Object(h.a)(this,Object(u.a)(a).call(this,e))).handleDateChange=t.handleDateChange.bind(Object(p.a)(t)),t.handleOptionChange=t.handleOptionChange.bind(Object(p.a)(t)),t}return Object(v.a)(a,e),Object(d.a)(a,[{key:"handleDateChange",value:function(e){var a=this.props.filters;a[e.target.name]=new Date(e.target.value),a.dateFrom.valueOf()>=a.dateTo.valueOf()?a.dateTo=new Date(a.dateFrom.valueOf()+864e5):a.dateTo.valueOf()>a.dateFrom.valueOf()+2592e6&&(a.dateTo=new Date(a.dateFrom.valueOf()+2592e6)),this.props.onFilterChange(a)}},{key:"handleOptionChange",value:function(e){var a=this.props.filters;a[e.target.name]=e.target.value,this.props.onFilterChange(a)}},{key:"render",value:function(){return r.a.createElement("nav",{className:"navbar is-info",style:{justifyContent:"center",padding:"2rem 0"}},r.a.createElement("div",{className:"navbar-item"},r.a.createElement(O,{date:this.props.filters.dateFrom,onDateChange:this.handleDateChange,name:"dateFrom",icon:"sign-in-alt"})),r.a.createElement("div",{className:"navbar-item"},r.a.createElement(O,{date:this.props.filters.dateTo,onDateChange:this.handleDateChange,name:"dateTo",icon:"sign-out-alt"})),r.a.createElement("div",{className:"navbar-item"},r.a.createElement(N,{onOptionChange:this.handleOptionChange,options:[{value:void 0,name:"Todos los pa\xedses"},{value:"Argentina",name:"Argentina"},{value:"Brasil",name:"Brasil"},{value:"Chile",name:"Chile"},{value:"Uruguay",name:"Uruguay"}],selected:this.props.filters.country,name:"country",icon:"globe"})),r.a.createElement("div",{className:"navbar-item"},r.a.createElement(N,{onOptionChange:this.handleOptionChange,options:[{value:void 0,name:"Cualquier precio"},{value:1,name:"$"},{value:2,name:"$$"},{value:3,name:"$$$"},{value:4,name:"$$$$"}],selected:this.props.filters.price,name:"price",icon:"dollar-sign"})),r.a.createElement("div",{className:"navbar-item"},r.a.createElement(N,{onOptionChange:this.handleOptionChange,options:[{value:void 0,name:"Cualquier tama\xf1o"},{value:10,name:"Hotel peque\xf1o"},{value:20,name:"Hotel mediano"},{value:30,name:"Hotel grande"}],selected:this.props.filters.rooms,name:"rooms",icon:"bed"})))}}]),a}(n.Component),j=function(e){function a(e){var t;Object(m.a)(this,a),t=Object(h.a)(this,Object(u.a)(a).call(this,e));var n=new Date;return t.state={filters:{dateFrom:n,dateTo:new Date(n.valueOf()+864e5),country:void 0,price:void 0,rooms:void 0},hotels:[]},t.handleFilterChange=t.handleFilterChange.bind(Object(p.a)(t)),t}return Object(v.a)(a,e),Object(d.a)(a,[{key:"handleFilterChange",value:function(e){this.setState({filters:e})}},{key:"componentDidMount",value:function(){var e=Object(o.a)(c.a.mark((function e(){var a,t;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("https://wt-8a099f3e7c73b2d17f4e018b6cfd6131-0.sandbox.auth0-extend.com/acamica");case 3:if((a=e.sent).ok){e.next=6;break}throw Error(a.statusText);case 6:return e.next=8,a.json();case 8:t=e.sent,this.setState({hotels:t,hotelsLoaded:!0}),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),console.log(e.t0);case 15:case"end":return e.stop()}}),e,this,[[0,12]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state,a=e.hotels,t=e.filters;return a=a.filter((function(e){return t.dateFrom<=e.availabilityFrom&&t.dateTo<=e.availabilityTo&&(!t.country||e.country===t.country)&&(!t.price||e.price<=t.price)&&(!t.rooms||e.rooms<=t.rooms)})),r.a.createElement("div",null,r.a.createElement(f,{totalHotels:a.length,filters:t}),r.a.createElement(C,{filters:this.state.filters,onFilterChange:this.handleFilterChange}),r.a.createElement(y,null,a))}}]),a}(n.Component);t(17);s.a.render(r.a.createElement(j,null),document.getElementById("root"))}},[[11,1,2]]]);
//# sourceMappingURL=main.172ecafc.chunk.js.map